<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>完整demo</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script type="text/javascript" charset="utf-8" src="ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="ueditor.all.min.js"> </script>
    <!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
    <!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
    <script type="text/javascript" charset="utf-8" src="lang/zh-cn/zh-cn.js"></script>
    <style>
    button{
        height: 40px;
        width: 100px;
        background-color: rebeccapurple;
        color: #fff;
        cursor: pointer;
    }
        label{
            width: 66px;
            text-align: right;
            display: inline-block;
        }
        input[type="text"]{
            width: 250px;
            height: 30px;
            padding: 0 5px;
        }
        .yl-record{
            width: 1170px;
            margin: 30px auto;
        }
        .record-tb{
            width: 1170px;
            margin: auto;
            background-color: #f4f4f4;
        }
        .record-tb th,.record-tb td{
            text-align: center;
        }
        .record-tb caption{
            height: 90px;
            line-height: 90px;
            font-size: 18px;
            font-weight: 900;
            color: #474849;
            border: 1px solid #d4d4d4;
            border-bottom: none;
            background-color: #f4f4f4;
        }
        .record-tb thead{
            height: 50px;
            line-height: 50px;
            font-size: 14px;
            font-weight: bold;
            /* border: 1px solid #ccc; */
            border-top: 1px solid #e8e8e8;
        }
        .record-tb thead tr{
            border: 1px solid #d4d4d4;
            border-top: none;
            /*border-right: none;*/
        }
        .record-tb thead tr th{
            border-left: 1px solid #e8e8e8;
        }
        .record-tb tbody{
            border: 1px solid #d4d4d4;
        }
        .record-tb tbody tr{
            height: 40px;
            line-height: 40px;
            font-size: 14px;
            color: #474849;
            border-bottom: 1px solid #d4d4d4;
        }
        .record-tb tbody tr td{
            border-left: 1px solid #e8e8e8;
        }
    </style>
    <style type="text/css">
        div{
            width:100%;
        }
    </style>
</head>
<body>
<div id="cms-index">
    <p>
        <label for="">游戏ID</label>
        <input type="text" placeholder="输入游戏ID" id="gid">
    </p>
    <p>
        <label for="">路径</label>
        <input type="text" placeholder="路径" id="fpath">
    </p>
     <p>
        <label for="">文件夹id</label>
        <input type="text" placeholder="输入文件夹id" id="did">
    </p>
     <p>
        <label for="">作者</label>
        <input type="text" placeholder="作者" id="author">
    </p>
    <p>
        <label for="">icon</label>
        <input type="text" placeholder="icon" id="icon">
    </p>
    <p>
        <label for="">title</label>
        <input type="text" placeholder="标题" id="title">
    </p>
    <p>
        <label for="">描述</label>
        <input type="text" placeholder="描述" id="desc">
    </p>
    <p>
        <label for="">时间</label>
        <input type="text" placeholder="例如：2016-08-25" id="time">
    </p>
    <p>
        <label for="">其他</label>
        <input type="text" placeholder="其他" id="other">
    </p>
    <label>内容</label>
    <script id="editor" type="text/plain" style="width:1024px;height:500px;"></script>
    </div>
    <button id="addFile">添加</button>
</div>

<script type="text/javascript" src="http://img.wan.ijinshan.com/thirdpart/jquery/1.8.2/jquery.min.js?t=201608101929"></script>
<script type="text/javascript">
    var ue = UE.getEditor('editor');
    function addFile(){
        var gid=$('#gid').val();
        var fpath=$('#fpath').val();
        var did=$('#did').val();
        var author=$('#author').val();
        var icon=$('#icon').val();
        var title=$('#title').val();
        var desc=$('#desc').val();
        var other=$('#other').val();
        var time=$('#time').val();
        var content=UE.getEditor('editor').getContent();
        alert(content);
        $.ajax({
            url:'http://cms.cmcm.com/api/file/add',
            data:{
                'gid':gid,
                'fpath':fpath,
                'did':did,
                'author':author,
                'icon':icon,
                'title':title,
                'desc':desc,
                'other':other,
                'time':time,
                'content':content
            },
            type:'post',
            dataType:"jsonp",
            success:function(res){
                if(res.ret=='1'){
                   window.location.reload();
                }else{
                    alert(data.msg);
                }
            }
        });
    }
    $('#addFile').click(function(){
        addFile();
      })
</script>
</body>
</html>
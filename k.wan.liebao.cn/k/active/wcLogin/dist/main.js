!function(e){function n(i){if(t[i])return t[i].exports;var r=t[i]={"i":i,"l":!1,"exports":{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{"configurable":!1,"enumerable":!0,"get":i})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/dist/",n(n.s=3)}([function(e,n,t){n=e.exports=t(4)(!1),n.push([e.i,"body,div,h1,h2,h3,h4,h5,h6,p,ul,li,a,button,input {\n    margin:0;\n    padding:0;\n}\nh1,h2,h3,h4,h5,h6 {font-weight: normal;}\nul,li { list-style: none;}\na {text-decoration: none;}\nbutton,input {\n    display: block;\n    background: none;\n    outline:none;\n    border:none;\n}\n\n/*common*/\n.mask-window-wl {\n    position:absolute;\n    z-index:998;\n    top:0;\n    left:0;\n    background:#000;\n    opacity: .3;\n    filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=30);\n    width:100%;\n}\n.window-wl {\n    /*position:absolute;*/\n    position:fixed;\n    *position: absolute;\n    z-index:999;\n    top:200px;\n    /*top:0;*/\n    left:50%;\n    width:502px;\n    /*height:478px;*/\n    margin-left:-251px;\n    padding-bottom:10px;\n    background: #f8f8f8;\n}\n\n/*header*/\n.hd-window-wl {\n    padding:26px 0 15px;\n    height:40px;\n    position:relative;\n}\n.fork-window-wl {\n    position:absolute;\n    display: block;\n    right:18px;\n    top:22px;\n    width:22px;\n    height:22px;\n    font-size:22px;\n    color:#ccc;\n    cursor: pointer;\n}\n.title-window-wl {\n    text-align: center;\n    line-height:40px;\n    font-size:24px;\n    color:#1a1a1a;\n}\n\n.tip-window-wl {\n    height:34px;\n    line-height:34px;\n    text-align: center;\n    font-size:14px;\n    color:#808080;\n}\n\n/*form*/\n.form-window-wl {}\n.errtip-window-wl {\n    height:26px;\n    line-height:26px;\n    text-align: center;\n    font-size:14px;\n    color:#eb0000;\n}\n.l-form-wl {\n    /*padding-top:26px;*/\n}\n.li-form-wl {\n    padding-bottom:10px;\n    height:40px;\n    position:relative;\n}\n.err-form-wl {\n    position:absolute;\n    z-index:1000;\n    top:40px;\n    left:117px;\n    height:25px;\n    padding-left:4px;\n    line-height:25px;\n    font-size:12px;\n    color:#f00;\n}\n.pb25 {\n    padding-bottom:25px;\n}\n.li-form-wl label {\n    width:105px;\n    height:40px;\n    float:left;\n    line-height:40px;\n    text-align: right;\n    padding-right:12px;\n}\n.ipt-form-wl {\n    width:296px;\n    height:38px;\n    float: left;\n    padding:0 15px;\n    border:1px solid #e0e0e0;\n    line-height:38px;\n    background:#fff;\n}\n.focus-form-wl {\n    border:1px solid #ff9259;\n    box-shadow: 0 0 2px #ff9259;\n}\n.li-smipt-wl .ipt-form-wl {\n    width:174px;\n    margin-right:10px;\n}\n.verified-li-wl {\n    width:110px;\n    height:38px;\n    float: left;\n    border:1px solid #e0e0e0;\n    cursor: pointer;\n    overflow: hidden;\n}\n\n.links-form-wl {\n    height:18px;\n    padding:2px 58px 0 117px;\n}\n.links-form-wl:after {\n    content:'.';\n    display: block;\n    height:0;\n    overflow:hidden;\n    clear:both;\n}\n.forget-links-wl,.deny-links-wl {\n    display: inline-block;\n    cursor: pointer;\n    font-size:14px;\n    text-decoration: underline;\n}\n.forget-links-wl {\n    float: left;\n    color:#1929ff;\n}\n.deny-links-wl {\n    float: right;\n    color:#808080;\n}\n\n.content-btn-wl {\n    padding:24px 58px 28px 117px;\n    height:50px;\n}\n.register-btn-wl {\n    padding:6px 58px 10px 117px;\n}\n.content-btn-wl:after {\n    content:'.';\n    display: block;\n    height:0;\n    overflow: hidden;\n    clear: both;\n}\n.btn-window-wl,.link-tencent-wl {\n    display: block;\n    float: left;\n    cursor: pointer;\n}\n.btn-window-wl {\n    background:#ff6615;\n    color:#fff;\n    width:214px;\n    height:48px;\n    border-radius: 8px;\n    line-height: 48px;\n    text-align: center;\n    font-size:18px;\n    margin-top:1px;\n}\n.link-tencent-wl {\n    width:50px;\n    height:50px;\n    text-indent: -9999px;\n    overflow: hidden;\n    margin-left:38px;\n    background: url(http://k.wan.liebao.cn/k/active/wcLogin/images/icon-tct_03.png) no-repeat 0 0;\n}\n\n.register-btn-wl .btn-window-wl {\n    width:268px;\n}\n\n/*footer*/\n.ft-window-fl {\n    width:392px;\n    height:60px;\n    margin:auto;\n    padding:0 10px;\n    border-top:1px solid #e0e0e0;\n}\n.tip-regis-wl,.aisle-regis-wl,.aisle-login-wl {\n    display: inline-block;\n    height:60px;\n    line-height:60px;\n    font-size:14px;\n}\n.tip-regis-wl {\n    float: left;\n    color:#808080;\n}\n.aisle-regis-wl {\n    float: right;\n    color:#ff6615;\n    text-decoration: underline;\n    cursor: pointer;\n}\n.aisle-login-wl {\n    float: right;\n    color:#1a19ff;\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n\n/*deny && fail*/\n.txt-deny-wl {\n    width:271px;\n    height:70px;\n    padding:60px 0 0 86px;\n    margin:auto;\n    background:url(http://k.wan.liebao.cn/k/active/wcLogin/images/exclam_03.png) no-repeat 0 54px;\n    line-height:19px;\n    font-size:16px;\n    color:#1a1a1a;\n}\n.l-btn-wltip {\n    width:357px;\n    margin:30px auto 0;\n    padding-bottom:24px;\n    height:48px;\n}\n.li-btn-wltip {\n    width:154px;\n    height:46px;\n    float: left;\n    border-radius:8px;\n    text-align: center;\n    line-height: 46px;\n    font-size:18px;\n    cursor: pointer;\n}\n.back-btn-wltip {\n    border:1px solid #ff6615;\n    background: #ff6615;\n    color:#fff;\n    margin-right:28px;\n}\n.close-btn-wltip {\n    border:1px solid #ff6615;\n    background:#fff;\n    color:#ff6615;\n}\n\n.title-fail-wl {\n    width:110px;\n    height:56px;\n    margin:auto;\n    padding:34px 0 0 70px;\n    line-height:56px;\n    font-size:22px;\n    color:#1a1a1a;\n    background:url(http://k.wan.liebao.cn/k/active/wcLogin/images/exclam_sm_03.png) no-repeat 0 34px;\n}\n.txt-fail-wl,.txt-played-wl {\n    margin-top:14px;\n    line-height:19px;\n    text-align: center;\n    font-size: 16px;\n    color:#4c4c4c;\n}\n.txt-played-wl { padding: 0 80px; }\n.txt-remind-wl { color:#e50000; }\n",""])},function(e,n){function t(e){return h(i(p(e),e.length*w))}function i(e,n){e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;for(var t=1732584193,i=-271733879,r=-1732584194,c=271733878,p=0;p<e.length;p+=16){var h=t,u=i,w=r,f=c;t=o(t,i,r,c,e[p+0],7,-680876936),c=o(c,t,i,r,e[p+1],12,-389564586),r=o(r,c,t,i,e[p+2],17,606105819),i=o(i,r,c,t,e[p+3],22,-1044525330),t=o(t,i,r,c,e[p+4],7,-176418897),c=o(c,t,i,r,e[p+5],12,1200080426),r=o(r,c,t,i,e[p+6],17,-1473231341),i=o(i,r,c,t,e[p+7],22,-45705983),t=o(t,i,r,c,e[p+8],7,1770035416),c=o(c,t,i,r,e[p+9],12,-1958414417),r=o(r,c,t,i,e[p+10],17,-42063),i=o(i,r,c,t,e[p+11],22,-1990404162),t=o(t,i,r,c,e[p+12],7,1804603682),c=o(c,t,i,r,e[p+13],12,-40341101),r=o(r,c,t,i,e[p+14],17,-1502002290),i=o(i,r,c,t,e[p+15],22,1236535329),t=s(t,i,r,c,e[p+1],5,-165796510),c=s(c,t,i,r,e[p+6],9,-1069501632),r=s(r,c,t,i,e[p+11],14,643717713),i=s(i,r,c,t,e[p+0],20,-373897302),t=s(t,i,r,c,e[p+5],5,-701558691),c=s(c,t,i,r,e[p+10],9,38016083),r=s(r,c,t,i,e[p+15],14,-660478335),i=s(i,r,c,t,e[p+4],20,-405537848),t=s(t,i,r,c,e[p+9],5,568446438),c=s(c,t,i,r,e[p+14],9,-1019803690),r=s(r,c,t,i,e[p+3],14,-187363961),i=s(i,r,c,t,e[p+8],20,1163531501),t=s(t,i,r,c,e[p+13],5,-1444681467),c=s(c,t,i,r,e[p+2],9,-51403784),r=s(r,c,t,i,e[p+7],14,1735328473),i=s(i,r,c,t,e[p+12],20,-1926607734),t=a(t,i,r,c,e[p+5],4,-378558),c=a(c,t,i,r,e[p+8],11,-2022574463),r=a(r,c,t,i,e[p+11],16,1839030562),i=a(i,r,c,t,e[p+14],23,-35309556),t=a(t,i,r,c,e[p+1],4,-1530992060),c=a(c,t,i,r,e[p+4],11,1272893353),r=a(r,c,t,i,e[p+7],16,-155497632),i=a(i,r,c,t,e[p+10],23,-1094730640),t=a(t,i,r,c,e[p+13],4,681279174),c=a(c,t,i,r,e[p+0],11,-358537222),r=a(r,c,t,i,e[p+3],16,-722521979),i=a(i,r,c,t,e[p+6],23,76029189),t=a(t,i,r,c,e[p+9],4,-640364487),c=a(c,t,i,r,e[p+12],11,-421815835),r=a(r,c,t,i,e[p+15],16,530742520),i=a(i,r,c,t,e[p+2],23,-995338651),t=l(t,i,r,c,e[p+0],6,-198630844),c=l(c,t,i,r,e[p+7],10,1126891415),r=l(r,c,t,i,e[p+14],15,-1416354905),i=l(i,r,c,t,e[p+5],21,-57434055),t=l(t,i,r,c,e[p+12],6,1700485571),c=l(c,t,i,r,e[p+3],10,-1894986606),r=l(r,c,t,i,e[p+10],15,-1051523),i=l(i,r,c,t,e[p+1],21,-2054922799),t=l(t,i,r,c,e[p+8],6,1873313359),c=l(c,t,i,r,e[p+15],10,-30611744),r=l(r,c,t,i,e[p+6],15,-1560198380),i=l(i,r,c,t,e[p+13],21,1309151649),t=l(t,i,r,c,e[p+4],6,-145523070),c=l(c,t,i,r,e[p+11],10,-1120210379),r=l(r,c,t,i,e[p+2],15,718787259),i=l(i,r,c,t,e[p+9],21,-343485551),t=d(t,h),i=d(i,u),r=d(r,w),c=d(c,f)}return Array(t,i,r,c)}function r(e,n,t,i,r,o){return d(c(d(d(n,e),d(i,o)),r),t)}function o(e,n,t,i,o,s,a){return r(n&t|~n&i,e,n,o,s,a)}function s(e,n,t,i,o,s,a){return r(n&i|t&~i,e,n,o,s,a)}function a(e,n,t,i,o,s,a){return r(n^t^i,e,n,o,s,a)}function l(e,n,t,i,o,s,a){return r(t^(n|~i),e,n,o,s,a)}function d(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function c(e,n){return e<<n|e>>>32-n}function p(e){for(var n=Array(),t=(1<<w)-1,i=0;i<e.length*w;i+=w)n[i>>5]|=(e.charCodeAt(i/w)&t)<<i%32;return n}function h(e){for(var n=u?"0123456789ABCDEF":"0123456789abcdef",t="",i=0;i<4*e.length;i++)t+=n.charAt(e[i>>2]>>i%4*8+4&15)+n.charAt(e[i>>2]>>i%4*8&15);return t}var u=0,w=8;e.exports=t},function(e,n){function t(e){var n="";for(i in e)n+=i+"="+e[i]+"&";return n.substring(0,n.length-1)}function r(e,n,i){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script"),s="",a=Math.random();window.process=i,n&&(s+=t(n)),o.src=s?e+"?v="+a+"&callback=process&"+s:e+"?v="+a+"&callback=process",r.appendChild(o),o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,r.removeChild(o))},-1===window.navigator.appVersion.indexOf("MSIE")&&(o.onload=function(){r.removeChild(o)})}function o(e,n,t){return e.attachEvent?e.attachEvent("on"+n,function(n){t.call(e,n)}):e.addEventListener(n,t,!1)}function s(e,n,t){var i=e.length;if(i)for(var r=0;r<i;r++)o(e[r],n,t);else o(e,n,t)}function a(e,n,t){if(t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);var r="; expires="+i.toGMTString()}else var r="";document.cookie=e+"="+n+r+"; path=/"}function l(e){for(var n=e+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(n))return r.substring(n.length,r.length)}return null}function d(e){a(e,"",-1)}function c(e){var n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}document.getElementsByClassName||(document.getElementsByClassName=function(e){for(var n=document.getElementsByTagName("*"),t=new Array,i=0;i<n.length;i++)for(var r=n[i],o=r.className.split(" "),s=0;s<o.length;s++)if(o[s]==e){t.push(r);break}return t}),Array.prototype.map||(Array.prototype.map=function(e,n){var t,i,r;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),s=o.length>>>0;if("[object Function]"!=Object.prototype.toString.call(e))throw new TypeError(e+" is not a function");for(n&&(t=n),i=new Array(s),r=0;r<s;){var a,l;r in o&&(a=o[r],l=e.call(t,a,r,o),i[r]=l),r++}return i}),e.exports={"sendJsonp":r,"bindEvt":s,"createStyleSheet":c,"setCookie":a,"getCookie":l,"deleteCookie":d}},function(e,n,t){var i=t(2),r=t(1),o=t(0);i.createStyleSheet(o),window.WLogin=function(e){this.hasMask=e,this.hd=function(e){return'<div class="hd-window-wl"><span class="fork-window-wl deny-window-wl">X</span><h3 id="wlTitle" class="title-window-wl">'+e+"</h3></div>"},this.notice='<h4 class="tip-window-wl">为了您的账号安全，微信账号需要绑定已有页游账号进行游戏</h4>',this.errtip='<p id="wlErrTip" class="errtip-window-wl"></p>',this.tipClose='<span class="fork-window-wl close-window-wl">X</span>',this.denyTxt='<p class="txt-deny-wl">为了您的账号安全，请绑定页游账号如不绑定则后续无法继续绑定其他已有页游账号。</p>',this.failTitle='<h3 class="title-fail-wl">绑定失败</h3>',this.failTxt='<p class="txt-fail-wl">该账号已经绑定其他微信账号，<br />建议您返回后重新绑定其他账号。</p>',this.playedTitle='<h3 class="title-fail-wl">提示</h3>',this.playedTxt='<p class="txt-played-wl">检测到您当前微信下已有平台游戏账号，绑定后您将放弃微信下的游戏账号，<span class="txt-remind-wl">请慎重选择</span></p>',this.tipBtns=function(e){var n=e||"返回绑定",t='<ul class="l-btn-wltip">';return t+=e?'<li id="tipPlayedBtn" class="li-btn-wltip back-btn-wltip">'+n+"</li>":'<li id="tipBackBtn" class="li-btn-wltip back-btn-wltip">'+n+"</li>",t+='<li class="li-btn-wltip close-btn-wltip close-window-wl">不绑定，直接登录</li></ul>'},this.errs={"passport":{"len":"账号长度为5-18位，请重新输入","underscore":"账号不能以下划线开头","union":"账号必须为字母、数字或下划线组成","diswords":"账号包含非法字符，请重新输入","exist":"账号已存在","recommend":function(e){return"，推荐使用"+e}},"password":{"tip":"由数字、字母、特殊字符组成且8-16位","len":"长度为8-16个字符","err":"必须包含字母、数字、符号中至少2种","repeat":"请勿使用与您账号名称相似的密码"},"repassword":{"tip":"再次输入登陆密码","len":"再次输入登陆密码","short":"长度为8-16个字符","err":"必须包含字母、数字、符号中至少2种","dislike":"两次输入密码不一致，请重新输入"},"realname":{"tip":"请输入您的姓名","len":"姓名不能为空","ch":"姓名只能为中文"},"idcard":{"tip":"请输入您的身份证号","0":"身份证格式正确","1":"身份证号码位数不对","2":"身份证号码出生日期超出范围或含有非法字符","3":"身份证号码校验错误","4":"身份证地区非法"}},this.getUid=function(){var e;return e=window.self===window.top?window.ks_user:window.top.ks_user,!!e&&e.uid},this.closedBind=function(){var e=this.getUid();return!!e&&"1"===i.getCookie("closeWcbind"+e)},this.accountCheck=!1,this.passwordCheck=!1,this.rePsdCheck=!1,this.realNameCheck=!1,this.idCardCheck=!1,this.codeCheck=!1,this.createRoot=function(){var e=document.createElement("div");return e.id="wlWindow",e.className="window-wl",e},this.createMask=function(){var e=document.createElement("div");return e.id="wlMask",e.className="mask-window-wl",e.style.height=function(){return Math.max(document.body.scrollHeight,document.documentElement.clientHeight)}()+"px",e},this.createList=function(e){function n(e,n,t,i,r,o){var s=document.createElement("li"),a=r||"",l=o||"",d='<label for="'+n+'">'+t+'</label><input type="'+e+'" id="'+n+'" name="'+n+'" placeholder="'+i+'" class="ipt-form-wl" />'+a;return s.className="li-form-wl "+l,s.innerHTML=d,s}var t=document.createElement("ul");return t.className="l-form-wl","login"===e?(t.appendChild(n("text","wlAccount","用户名","用户名/邮箱/手机")),t.appendChild(n("password","wlPassword","密码","请输入登录密码")),t.appendChild(n("text","wlVerify","验证码","请输入验证码",'<div id="wlVerified" class="verified-li-wl"></div>',"li-smipt-wl")),t):"register"===e?(t.appendChild(n("text","wlAccount","用户名","请输入用户账号",'<p id="accountErr" class="err-form-wl"></p>',"pb25")),t.appendChild(n("password","wlPassword","设置密码","请输入密码",'<p id="passwordErr" class="err-form-wl"></p>',"pb25")),t.appendChild(n("password","wlRePwd","确认密码","再次输入密码",'<p id="rePsdErr" class="err-form-wl"></p>',"pb25")),t.appendChild(n("text","wlVerify","验证码","请输入验证码",'<div id="wlVerified" class="verified-li-wl"></div><p id="codeErr" class="err-form-wl"></p>',"li-smipt-wl pb25")),t.appendChild(n("text","wlName","姓名","请输入真实姓名",'<p id="nameErr" class="err-form-wl"></p>',"pb25")),t.appendChild(n("text","wlIdentity","身份证号","请输入身份证号码",'<p id="idCardErr" class="err-form-wl"></p>',"pb25")),t):void 0},this.createLinks=function(){var e=document.createElement("div");return e.className="links-form-wl",e.innerHTML='<a class="forget-links-wl" href="http://i.ijinshan.com/forget?act=forget" target="_blank">忘记密码?</a><span class="deny-links-wl deny-window-wl">暂不绑定</span>',e},this.createBtn=function(e){var n=document.createElement("div"),t="content-btn-wl";return"register"===e&&(t+=" register-btn-wl"),n.id="wlBtnContent",n.className=t,n.innerHTML='<button id="wlBtn" class="btn-window-wl">登录并绑定</button>',n},this.createForm=function(e){var n=document.createElement("form"),t=this.createList(e),i=this.createBtn(e),r=this.createLinks();return n.id="wlForm",n.className="form-window-wl",n.appendChild(t),"login"===e&&n.appendChild(r),n.appendChild(i),n},this.getVerify=function(){Math.random();i.sendJsonp("http://api.wan.liebao.cn/code/1/get?",null,function(e){if(1===e.ret){var n=document.getElementById("wlVerified"),t='<img src="'+e.data.url+'" />';n.innerHTML=t}})},this.createFooter=function(e){var n=document.createElement("div"),t='<p class="tip-regis-wl">如果您没有金山猎豹页游账号</p>';return n.id="wlFt",n.className="ft-window-fl",t+="login"===e?'<p id="wlToRegister" class="aisle-regis-wl">注册新账号</p>':'<p id="wlToLogin" class="aisle-login-wl">返回绑定已有账号</p>',n.innerHTML=t,n},this.renderUI=function(e,n){var t=this.createRoot(),i=this.createMask(),r=document.getElementsByTagName("body")[0],o=this.createForm(e),s=this.createFooter(e),a=void 0!=document.getElementById("wlMask");t.innerHTML=this.hd(n)+this.notice+this.errtip,t.appendChild(o),t.appendChild(s),this.hasMask&&!a&&r.appendChild(i),r.appendChild(t)},this.renderLogin=function(e){this.closedBind()||(this.renderUI("login","绑定金山猎豹页游账号"),this.getVerify(),this.bindLoginEvts(),e&&this.errTxt("wlErrTip",e))},this.renderRegister=function(e){this.closedBind()||(this.renderUI("register","注册金山猎豹页游账号"),this.getVerify(),this.bindRegisterEvts(),e&&this.errTxt("wlErrTip",e))},this.renderTip=function(e,n){if(!this.closedBind()){var t=document.getElementsByTagName("body")[0],i=this.createRoot(),r=this.tipClose;switch(e){case!1:r+=this.failTitle+this.failTxt;break;case"deny":r+=this.denyTxt;break;case"played":r+=this.playedTitle+this.playedTxt;break;default:r+=this.failTitle+this.failTxt}r+="played"===e?this.tipBtns("绑定"):this.tipBtns(),i.innerHTML=r,t.appendChild(i),n?this.bindTipEvts(n):this.bindTipEvts()}},this.removeWindow=function(e){var n=document.getElementsByTagName("body")[0],t=document.getElementById("wlWindow"),i=document.getElementById("wlMask");n.removeChild(t),e&&n.removeChild(i)},this.bindEvts=function(e){var n=this,t=document.getElementById("wlVerified"),r=document.getElementsByClassName("deny-window-wl"),o=document.getElementsByClassName("ipt-form-wl");i.bindEvt(t,"click",function(e){n.getVerify()}),i.bindEvt(r,"click",function(e){n.removeWindow(),n.renderTip("deny")}),i.bindEvt(o,"focus",function(e){var n=this.className;n+=" focus-form-wl",this.className=n}),i.bindEvt(o,"blur",function(e){var n=this.className;-1!==this.className.indexOf("focus-form-wl")&&(n=n.replace(" focus-form-wl","")),this.className=n})},this.bindLoginEvts=function(){var e=this,n=document.getElementById("wlToRegister"),t=document.getElementById("wlBtn");i.bindEvt(n,"click",function(n){e.removeWindow(),e.renderRegister()}),i.bindEvt(t,"click",function(n){n.preventDefault?n.preventDefault():n.returnValue=!1,this.disabled=!0,e.sendLoginBind()}),this.bindEvts()},this.bindRegisterEvts=function(){var e=this,n=document.getElementById("wlToLogin"),t=document.getElementById("wlAccount"),r=document.getElementById("wlPassword"),o=document.getElementById("wlRePwd"),s=document.getElementById("wlName"),a=document.getElementById("wlIdentity"),l=document.getElementById("wlVerify"),d=document.getElementById("wlBtn");i.bindEvt(n,"click",function(n){e.removeWindow(),e.renderLogin()}),i.bindEvt(t,"blur",function(n){e.checkPassport()}),i.bindEvt(r,"blur",function(n){e.passwordCheck=e.checkPassword()}),i.bindEvt(o,"blur",function(n){e.rePsdCheck=e.checkRepassword()}),i.bindEvt(s,"blur",function(n){e.realNameCheck=e.checkRealName()}),i.bindEvt(a,"blur",function(n){e.idCardCheck=e.checkIdCard()}),i.bindEvt(l,"blur",function(n){e.codeCheck=e.checkCode()}),i.bindEvt(d,"click",function(n){n.preventDefault?n.preventDefault():n.returnValue=!1,this.disabled=!0,e.sendRegisterBind()}),this.bindEvts()},this.bindTipEvts=function(e){var n=this,t=document.getElementsByClassName("close-window-wl"),r=document.getElementById("tipBackBtn"),o=document.getElementById("tipPlayedBtn");i.bindEvt(t,"click",function(e){var t=n.getUid();t&&i.setCookie("closeWcbind"+t,"1",365),n.removeWindow(!0)}),r&&i.bindEvt(r,"click",function(e){n.removeWindow(),n.renderLogin()}),o&&i.bindEvt(o,"click",function(n){e&&e()})},this.loginRequest=function(e,n,t){i.sendJsonp("http://api.wan.liebao.cn/account/1/wx/pgloginbind",{"username":n.u,"password":n.p,"code":n.v,"service":n.s},function(i){1!==i.ret?t?(e.removeWindow(),e.renderLogin(i.msg)):(e.getVerify(),e.errTxt("wlErrTip",i.msg),n.btn.disabled=!1):window.location.href=i["goto"]})},this.registerRequest=function(e,n,t){i.sendJsonp("http://api.wan.liebao.cn/account/1/wx/pgregisterbind",{"username":n.username,"password":n.password,"code":n.code,"service":n.s},function(i){1!=i.ret?t?(e.removeWindow(),e.renderRegister(i.msg)):(e.getVerify(),e.errTxt("wlErrTip",i.msg),n.btn.disabled=!1):window.location.href=i["goto"]})},this.sendLoginBind=function(){var e=this,n=window.ks_user.play_history,t=document.getElementById("wlAccount").value,i=r(document.getElementById("wlPassword").value),o=document.getElementById("wlVerify").value.toLowerCase(),s=window.encodeURI("http://i.wan.liebao.cn/login?go="),a=window.encodeURI(window.location.href),l=document.getElementById("wlBtn"),d={};return s+=a,d.u=t,d.p=i,d.v=o,d.s=s,d.btn=l,t&&i&&o?n&&0!==n.length?(e.removeWindow(),void e.renderTip("played",function(){e.loginRequest(e,d,!0)})):void this.loginRequest(e,d):(e.errTxt("wlErrTip","请填写完整的登录信息"),void(l.disabled=!1))},this.sendRegisterBind=function(){var e=this,n=window.ks_user.played,t=document.getElementById("wlAccount").value,i=r(document.getElementById("wlPassword").value),o=document.getElementById("wlVerify").value.toLowerCase(),s=window.encodeURI("http://i.wan.liebao.cn/login?go="),a=window.encodeURI(window.location.href),l=(document.getElementById("wlName").value,document.getElementById("wlIdentity").value,document.getElementById("wlBtn")),d={};return s+=a,d.username=t,d.password=i,d.code=o,d.s=s,d.btn=l,this.accountCheck&&this.passwordCheck&&this.rePsdCheck&&this.realNameCheck&&this.idCardCheck&&this.codeCheck?n&&0!==n.length?(e.removeWindow(),void e.renderTip("played",function(){e.registerRequest(e,d,!0)})):void this.registerRequest(e,d):void(l.disabled=!1)},this.errTxt=function(e,n){document.getElementById(e).innerText=n},this.checkPassport=function(){var e=this,n=document.getElementById("wlAccount").value,t=["bjsupport","kingsoft","cb","ks","gm","test","fs","jx","db","cq","blog","passport","vip","wps","system","duba","ciba","xoyo","kol","shqz","hujintao","xijinping","wenjiabao","jiangzemin","zhurongji","qiubojun","leijun","xidada","kuanyi","kuannong","flg","falun","minghui","lihongzhi","tmd","nmd","fuck","sex","xxx","penis","viagra","tits","pussy","shit","damn","bastard","asshole","bitch","vagina","breast","root","admin","gm","gamemaster"],r=/^[a-zA-Z\d_]+$/;if(n.length<5||n.length>18)return this.errTxt("accountErr",this.errs.passport.len),void(this.accountCheck=!1);if("_"===n.substr(0,1))return this.errTxt("accountErr",this.errs.passport.underscore),void(this.accountCheck=!1);if(!r.test(n))return this.errTxt("accountErr",this.errs.passport.union),void(this.accountCheck=!1);for(var o=0;o<t.length;o++)if(-1!==n.toLowerCase().indexOf(t[o]))return this.errTxt(this.errs.passport.diswords),void(this.accountCheck=!1);i.sendJsonp("http://i.wan.liebao.cn/register/chk_u",{"passport":n},function(n){switch(n.code){case-2:""===n.data.recommend?e.errTxt("accountErr",e.errs.passport.exist):e.errTxt("accountErr",e.errs.passport.exist+e.errs.passport.recommend(n.data.recommend)),e.accountCheck=!1;break;case 1:e.errTxt("accountErr",""),e.accountCheck=!0}})},this.checkPassword=function(){var e=document.getElementById("wlPassword").value,n=document.getElementById("wlAccount").value,t=document.getElementById("wlRePwd").value,i=/^(?=.*?[0-9])(?=.*?[^A-Za-z0-9])[A-Za-z0-9\W_]{8,16}$/,r=/^(?=.*?[A-Za-z])(?=.*?[^A-Za-z0-9])[A-Za-z0-9\W_]{8,16}$/,o=/^(?=.*?[A-Za-z])(?=.*?[0-9])[A-Za-z0-9\W_]{8,16}$/;return""===e?(this.errTxt("passwordErr",this.errs.password.tip),!1):e==n?(this.errTxt("passwordErr",this.errs.password.repeat),!1):e.length<8||e.length>16?(this.errTxt("passwordErr",this.errs.password.len),!1):i.test(e)||r.test(e)||o.test(e)?(this.errTxt("passwordErr",""),checked=!0,!e||!t||(e!==t?(this.errTxt("rePsdErr",this.errs.repassword.dislike),!1):(this.errTxt("rePsdErr",""),!0))):(this.errTxt("passwordErr",this.errs.password.err),!1)},this.checkRepassword=function(){var e=document.getElementById("wlRePwd").value,n=document.getElementById("wlPassword").value,t=/^(?=.*?[0-9])(?=.*?[^A-Za-z0-9])[A-Za-z0-9\W_]{8,16}$/,i=/^(?=.*?[A-Za-z])(?=.*?[^A-Za-z0-9])[A-Za-z0-9\W_]{8,16}$/,r=/^(?=.*?[A-Za-z])(?=.*?[0-9])[A-Za-z0-9\W_]{8,16}$/;return""===e?(this.errTxt("rePsdErr",this.errs.repassword.len),!1):e.length<8||e.length>16?(this.errTxt("rePsdErr",this.errs.repassword["short"]),!1):t.test(e)||i.test(e)||r.test(e)?n!==e?(this.errTxt("rePsdErr",this.errs.repassword.dislike),!1):(this.errTxt("rePsdErr",""),!0):(this.errTxt("rePsdErr",this.errs.repassword.err),!1)},this.checkRealName=function(){var e=document.getElementById("wlName").value,n=/^[\u4e00-\u9fa5]+$/i;return 0===e.length?(this.errTxt("nameErr",this.errs.realname.len),!1):n.test(e)?(this.errTxt("nameErr",""),!0):(this.errTxt("nameErr",this.errs.realname.ch),!1)},this.checkIdCard=function(){var e=document.getElementById("wlIdentity").value,n=function(e){var e,n,t,i,r,o={"11":"北京","12":"天津","13":"河北","14":"山西","15":"内蒙古","21":"辽宁","22":"吉林","23":"黑龙江","31":"上海","32":"江苏","33":"浙江","34":"安徽","35":"福建","36":"江西","37":"山东","41":"河南","42":"湖北","43":"湖南","44":"广东","45":"广西","46":"海南","50":"重庆","51":"四川","52":"贵州","53":"云南","54":"西藏","61":"陕西","62":"甘肃","63":"青海","64":"宁夏","65":"xinjiang","71":"台湾","81":"香港","82":"澳门","91":"国外"},s=[];if(s=e.split(""),null===o[parseInt(e.substr(0,2))])return 4;switch(e.length){case 15:return(parseInt(e.substr(6,2))+1900)%4==0||(parseInt(e.substr(6,2))+1900)%100==0&&(parseInt(e.substr(6,2))+1900)%4==0?ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,ereg.test(e)?0:2;case 18:return parseInt(e.substr(6,4))%4==0||parseInt(e.substr(6,4))%100==0&&parseInt(e.substr(6,4))%4==0?ereg=/^[1-9][0-9]{5}(18|19|20)?\d{2}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:ereg=/^[1-9][0-9]{5}(18|19|20)?\d{2}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,ereg.test(e)?(i=7*(parseInt(s[0])+parseInt(s[10]))+9*(parseInt(s[1])+parseInt(s[11]))+10*(parseInt(s[2])+parseInt(s[12]))+5*(parseInt(s[3])+parseInt(s[13]))+8*(parseInt(s[4])+parseInt(s[14]))+4*(parseInt(s[5])+parseInt(s[15]))+2*(parseInt(s[6])+parseInt(s[16]))+1*parseInt(s[7])+6*parseInt(s[8])+3*parseInt(s[9]),n=i%11,r="F",t="10X98765432",r=t.substr(n,1),r===s[17]?0:3):2;default:return 1}}(e);return 0!==n?(this.errTxt("idCardErr",this.errs.idcard[n]),!1):(this.errTxt("idCardErr",""),!0)},this.checkCode=function(){return document.getElementById("wlVerify").value?(this.errTxt("codeErr",""),!0):(this.errTxt("codeErr","请填写验证码"),!1)}}},function(e,n){function t(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=i(r);return[t].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([o]).join("\n")}return[t].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var i=t(n,e);return n[2]?"@media "+n[2]+"{"+i+"}":i}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="("+s[2]+") and ("+t+")"),n.push(s))}},n}}]);
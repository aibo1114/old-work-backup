// Generated by CoffeeScript 1.12.7
(function() {
  require('../../../../lib/meta/user');

  require("../../../../lib/func/showInTd");

  $.extend(true, m.user, {
    filter: {
      username: 'text:s:mt',
      industry: 'select:l:eq',
      status: 'select:l:eq'
    },
    btn: {
      msg: function() {
        return util.iBtn("envelope");
      },
      roles: function() {
        return util.iBtn("education");
      }
    },
    event: {
      roles: {
        type: 'click',
        fun: cf.view.showInTd
      },
      msg: {
        type: 'click',
        fun: function(e) {
          var item;
          item = this.findData(e).attributes;
          return app.dm.form('air', 'userMsg', {
            toFetch: false,
            btns: ['save'],
            before: function(attr) {
              attr.mo.subject = util.del('title', attr);
              attr.mo.html = util.del('content', attr);
              return attr;
            },
            data: {
              to: item.email,
              mo: {
                to: item.username + "(" + item.email + ")",
                sender: cf.community.name
              },
              user: {
                _id: user._id,
                username: user.username
              }
            }
          });
        }
      }
    }
  });

}).call(this);

//# sourceMappingURL=user.js.map

// Generated by CoffeeScript 1.12.7
(function() {
  var _app, _tag;

  $.extend(window, {
    _exv: function(name, tag, opt) {
      if (_.isString(tag)) {
        tag = cf.view[tag];
      }
      return cf.view[name] = tag.extend(opt);
    }
  });

  _tag = require('../../../lib/view/_tag');

  _tag.prototype.cleanAll = true;

  require('../../../ext/string');

  require('../../../lib/extend/jquery');

  $.extend(cf, {
    loadTmpl: function(name) {
      return require("./tmpl/" + name + ".jade");
    },
    tp: {
      opt: {
        f: require('../../../lib/tmpl'),
        u: {}
      }
    },
    rtp: function(tmpl, opt) {
      if (opt == null) {
        opt = {};
      }
      if (_.isString(tmpl)) {
        if (!cf.tp[tmpl]) {
          try {
            cf.tp[tmpl] = cf.loadTmpl(tmpl);
          } catch (error) {
            cf.tp[tmpl] = cf.loadLibTmpl(tmpl);
          }
        }
        tmpl = cf.tp[tmpl];
      }
      return tmpl($.extend(opt, cf.tp.opt));
    }
  });

  W.util = require('./lib/util');

  _app = Backbone.Router.extend({
    ctn: '.main',
    initialize: function() {
      var i, it, k, len, ref, ref1, v;
      util.initSelectEvent();
      require('./lib/playHistory')();
      this.layout();
      ref = this.func;
      for (i = 0, len = ref.length; i < len; i++) {
        it = ref[i];
        ref1 = it.routes;
        for (k in ref1) {
          v = ref1[k];
          this[v] = it[v];
          this.route(k, v, it[v]);
        }
      }
      window.app = this;
      return Backbone.history.start();
    },
    layout: function() {
      $('#nav').html(cf.rtp('leftMenu', {
        items: [
          {
            label: '网上银行(支付宝)',
            href: '#zfb'
          }, {
            label: '网上银行(易宝)',
            href: '#yb'
          }
        ]
      }));
      $('#nav li').on('click', function() {
        return $(this).addClass('nav-li-a-select').siblings().removeClass('nav-li-a-select');
      });
      return require('./lib/setPlayHistory')();
    },
    func: [require('./func/zfbYb')]
  });

  new _app();

}).call(this);

//# sourceMappingURL=main.js.map

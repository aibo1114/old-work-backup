// Generated by CoffeeScript 1.12.7
(function() {
  var submit;

  submit = function() {
    var costValue, isChecked, pay_amount, platform_name, platform_sub_id, webgame_id, webgame_name, webgame_serverid, webgame_servername;
    webgame_id = $('#g-select-btn').attr('data-gid');
    $('#form_webgame_id').val(webgame_id);
    webgame_name = $('#g-select-btn').text();
    $('#form_webgame_name').val(webgame_name);
    webgame_serverid = $('#s-select-btn').attr('data-sid');
    $('#form_webgame_serverid').val(webgame_serverid);
    webgame_servername = $('#s-select-btn').text();
    $('#form_webgame_servername').val(webgame_servername);
    platform_name = $('#nav .nav-li-a-select a').text();
    $('#form_platform_name').val(platform_name);
    platform_sub_id = $('input:radio[name=\'bank\']').val();
    $('#form_platform_sub_id').val(platform_sub_id);
    isChecked = $('#cost-custom').prop('checked');
    console.log(isChecked + '   1111');
    if (isChecked) {
      costValue = $('#cost-custom-text').val();
      if (costValue > 10 && costValue < 100000) {
        return $('#form_pay_amount').val(costValue);
      } else {
        alert('111');
      }
    } else {
      pay_amount = $('input[name="cost"]:checked').val();
      console.log(pay_amount);
      return $('#form_pay_amount').val(pay_amount);
    }
  };

  module.exports = {
    routes: {
      'zfb': 'zfb',
      'yb': 'yb'
    },
    zfb: function() {
      new cf.view._tag({
        parent: this.ctn,
        tmpl: 'zfb',
        data: {
          title: '支付宝',
          bank: require('../data/zfbBank'),
          money: require('../data/cashAmount')
        },
        'click #paybtn': function(e) {
          console.log('111');
          return $.ajax({
            url: 'http://pay1.wan.liebao.cn/index.php/api/getRoleList?pp=kswl710553911&gid=1052&sid=1497&_=1467430323053',
            dataType: 'jsonp',
            cache: false,
            success: function(json) {
              var roles, roles_data, roles_num;
              if (json.code === 1) {
                submit();
                roles_data = json.data;
                roles_num = roles_data.length;
                roles = [];
                if (roles_num === 1) {
                  try {
                    roles.push(decodeURIComponent(roles_data[0].actor_name));
                  } catch (error) {
                    e = error;
                    roles.push(roles_data[0].actor_name);
                  }
                }
                roles = roles.join(', ');
                util.confirmBox('charge_info', {
                  roles: roles
                });
              } else {
                util.confirmBox('empty_role');
              }
            }
          });
        }
      });
      $('#bank_ali-cost-300').prop('checked', true);
      return $('#bank_ali-bank-8').prop('checked', true);
    },
    yb: function() {
      new cf.view._tag({
        parent: this.ctn,
        tmpl: 'zfb',
        data: {
          title: '支付宝',
          bank: require('../data/ybBank'),
          money: require('../data/cashAmount')
        },
        events: {
          'click #paybtn': function(e) {
            var gid, pp, sid;
            gid = $('#g-select-btn').attr('data-gid');
            sid = $('#s-select-btn').attr('data-sid');
            pp = $('#form_passport_mainname').val();
            console.log(gid);
            console.log(sid);
            return $.ajax({
              url: 'http://pay1.wan.liebao.cn/index.php/api/getRoleList',
              data: {
                pp: pp,
                gid: sid,
                sid: gid
              },
              dataType: 'jsonp',
              cache: false,
              success: function(json) {
                var roles, roles_data, roles_num;
                if (json.code === 1) {
                  submit();
                  roles_data = json.data;
                  roles_num = roles_data.length;
                  roles = [];
                  if (roles_num === 1) {
                    try {
                      roles.push(decodeURIComponent(roles_data[0].actor_name));
                    } catch (error) {
                      e = error;
                      roles.push(roles_data[0].actor_name);
                    }
                  }
                  roles = roles.join(', ');
                  util.confirmBox('charge_info', {
                    roles: roles
                  });
                } else {
                  util.confirmBox('empty_role');
                }
              }
            });
          }
        }
      });
      $('#bank_ali-cost-300').prop('checked', true);
      return $('#bank_ali-bank-CMBCHINA-NET-B2C').prop('checked', true);
    }
  };

}).call(this);

//# sourceMappingURL=zfbYb.js.map

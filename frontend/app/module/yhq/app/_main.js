// Generated by CoffeeScript 1.12.7
(function() {
  var router, u;

  require('./style/main.css');

  router = require('../../console/app/lib/consoleRouter');

  u = require('../../console/app/lib/consoleUser');

  Backbone.Model.setPost();

  cf.id = 'id';

  Backbone.Model.prototype.idAttribute = cf.id;

  $.extend(cf, {
    loadTmpl: function(name) {
      try {
        return require("./tmpl/" + name + ".jade");
      } catch (error) {
        return require("../../console/tmpl/" + name + ".jade");
      }
    },
    loadLibTmpl: function(name) {
      return require("../../../lib/tmpl/" + name + ".jade");
    }
  });

  cf.actPre = cf.rsPre = 'http://api.wan.liebao.cn/coupons/1/bms/';

  cf.community = {
    name: '优惠券',
    resPath: '/'
  };

  require('../../../lib/meta/_status');

  require('../../../lib/terminal/h5_mgm');

  require("./meta/meta");

  cf.view.form.prototype.btns = ['back', 'save'];

  cf.view.table.prototype.noLastTime = true;

  window.user = new u({}, {
    logoutUrl: util.restUrl('logout'),
    permission: ['console'],
    roles: [
      {
        title: 'admin'
      }
    ],
    check: function() {
      return true;
    },
    func: function() {
      var res;
      res = this.funcItem();
      res.shift();
      return res;
    },
    menu: [
      {
        icon: 'hdd',
        key: 'data'
      }
    ],
    entities: [
      {
        key: 'coupon_activity',
        row: 10
      }, {
        key: 'passportcoupon',
        row: 20
      }
    ],
    isLogin: function() {
      return true;
    }
  });

  new router({
    checkAuth: false,
    dfPath: 'data',
    logoutPath: 'login',
    loadMod: function() {
      require('../../console/app/mods/data');
      return cf.exLabel();
    },
    checkFail: function() {
      return cf.r('login');
    }
  });

  user.renderLoginMenu();

  if (!location.hash) {
    cf.r('data');
  }

  util.lcss(cf.modPath + 'main.css');

}).call(this);

//# sourceMappingURL=_main.js.map

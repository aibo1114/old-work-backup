// Generated by CoffeeScript 1.12.7
(function() {
  app.enhance({
    routes: {
      '!/result/:ent/:q': 'result'
    },
    result: function(ent, q) {
      if (!q) {
        app.navigate('', {
          trigger: true
        });
        return;
      }
      $('#indexSlide').hide();
      return this.dm.collection(this.ctn, ent, {
        title: ii(ent),
        style: 'panel-info',
        tagClass: 'panel-body row',
        noData: function() {
          return "<h3>No search results</h3>";
        },
        modelOpt: {
          tmpl: 'searchItem',
          className: 'col-md-2'
        },
        criteriaOpt: function() {
          return {
            q: {
              title: {
                $regex: ".*" + q + ".*",
                $options: 'i'
              }
            }
          };
        },
        callback: function() {
          return this.$('.toolbar').append("<a class='btn btn-default' onclick='history.go(-1)'>Back</a>");
        }
      });
    }
  });

}).call(this);

//# sourceMappingURL=result.js.map

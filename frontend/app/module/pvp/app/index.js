// Generated by CoffeeScript 1.12.7
(function() {
  if (app.hotRooms == null) {
    app.hotRooms = new cf.model.entities();
  }

  so('RoomGetHotList', function(d) {
    return app.hotRooms.reset(d.entities);
  });

  app.enhance({
    routes: {
      '!/index': 'index'
    },
    index: function() {
      app.btmMenu.show();
      se('RoomGetHotList', {
        offset: '0',
        max: '5'
      });
      return this.dm.portal(this.ctn, {
        cleanAll: true,
        tagClass: ' ',
        head: true,
        title: '游戏竞技中心',
        tmpl: 'layout',
        callback: cf.roomBtn,
        plugins: function() {
          return [
            {
              type: 'collection',
              attrs: {
                mode: 'panel',
                head: true,
                title: '热门房间',
                el: '.hotRoom',
                style: 'panel-pvp room',
                tagClass: 'panel-body row',
                className: 'roomItem',
                cleanAll: false,
                toFetch: false,
                collection: app.hotRooms,
                modelOpt: {
                  tmpl: 'roomItem',
                  className: 'item row',
                  tagName: 'a'
                }
              }
            }
          ];
        }
      });
    }
  });

}).call(this);

//# sourceMappingURL=index.js.map

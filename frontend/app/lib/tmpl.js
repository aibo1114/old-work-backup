// Generated by CoffeeScript 1.12.7
(function() {
  module.exports = $.extend(require('../ext/tmpl'), {
    tmpl: function(name, opt, lib) {
      try {
        return cf.rtp(name, opt, lib);
      } catch (error) {
        return log('No tmpl: ' + name);
      }
    },
    viewItem: function(entity, k, v) {
      var opt, ref;
      opt = meta[entity][k] || meta.common[k];
      if (opt.showText) {
        return opt.showText(v);
      } else if (opt.type === 'text' || !opt.type) {
        return v;
      } else if ((ref = opt.type) === 'select' || ref === 'radio') {
        if (opt.data && +v) {
          return _.result(opt, 'data')[+v];
        } else {
          return v;
        }
      } else if (opt.type === 'status') {
        return cf.st.text(entity + '_status', v);
      } else {
        return v;
      }
    },
    lt: function(obj, sc, ets, fun, val, tag) {
      var id, st;
      if (val == null) {
        val = '';
      }
      if (tag == null) {
        tag = 'span';
      }
      id = util.randomChar(4);
      st = "<" + tag + " id='" + id + "'>" + val + "</" + tag + ">";
      obj.listenTo(sc, ets, function(r, v) {
        return $("#" + id).html(fun ? fun.apply(obj, arguments) : v);
      });
      return st;
    },
    flt: function(lc, code, val, fun) {
      if (!fun && lc.showText) {
        fun = function(m, v) {
          return lc.showText(v);
        };
      }
      return this.lt(lc.ctx, lc.ctx.model, "change:" + code, fun, val);
    },
    status: function(e, t) {
      return cf.st.text(e, t);
    },
    circle: function(text, size, color, cls) {
      var ctn;
      if (color == null) {
        color = 'danger';
      }
      ctn = $.mk('div', {
        "class": "btn btn-" + color,
        style: "border-radius: " + (size / 2) + "rem; width: " + size + "rem; height: " + size + "rem; padding-top: 0.9rem; text-align: center; display: inline-block;"
      }, $.mk('div', {
        style: "font-size: " + (size / 2) + "rem"
      }));
      return ctn.toStr();
    }
  });

}).call(this);

//# sourceMappingURL=tmpl.js.map

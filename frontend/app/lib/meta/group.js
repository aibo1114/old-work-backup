// Generated by CoffeeScript 1.12.7
(function() {
  m.group = {
    prop: [
      _ep('title'), m._textarea('idea'), _ep('description'), {
        code: 'terms',
        xtype: 'listEditor',
        label: '守则'
      }, m._pic('head'), m._pic('qrcode'), m._pic('slide')
    ]
  };

  meta.groupMember = {
    prop: [
      m._select('role', {
        attrs: {
          data: {
            leader: '组织者',
            power: '高级用户',
            member: '成员'
          }
        }
      }), {
        code: 'user',
        type: 'text',
        xtype: 'selectBox',
        bind: true,
        attrs: {
          searchItem: 'username',
          setAttrs: 'username,gender',
          setVal: function() {
            var k, refFile, res, v;
            res = _.pick(this.data, this.getAttrs().split(','));
            for (k in res) {
              v = res[k];
              this.form.setVal("[name='" + k + "']", v, k);
            }
            refFile = this.form.model.get('refFile') || {};
            refFile.user = [this.data._id + '.jpg'];
            this.form.model.set({
              refFile: refFile,
              uid: this.data._id
            }, {
              silent: true
            });
            return this.form.model.unset('user');
          },
          panelOpt: {
            entity: 'user'
          }
        }
      }, _ep('user:gender'), _ep('status'), _ep('description')
    ]
  };

}).call(this);

//# sourceMappingURL=group.js.map

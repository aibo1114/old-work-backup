// Generated by CoffeeScript 1.12.7
(function() {
  module.exports = {
    _prop: 'refFile',
    _func: 'head',
    _getModel: function() {
      if (this.form) {
        return this.form.model;
      } else {
        return this.model;
      }
    },
    _resetProp: function(o) {
      return this._getModel().attributes[this._prop] = o;
    },
    _getProp: function(prop) {
      if (prop == null) {
        prop = this._prop;
      }
      return this._getModel().attributes[prop] || (this._getModel().attributes[prop] = this._dv || {});
    },
    _getObj: function(func, src) {
      var obj;
      if (func == null) {
        func = this._func;
      }
      if (src == null) {
        src = {};
      }
      obj = this._getProp();
      if (func) {
        return obj[func] || (obj[func] = src);
      } else {
        return obj;
      }
    },
    _setObj: function(o, func) {
      if (func) {
        return this._getProp()[func] = o;
      } else {
        return this._resetProp(o);
      }
    },
    _swap: function(n, m) {
      var d, t;
      d = this._getObj();
      t = d[n];
      d[n] = d[m];
      return d[m] = t;
    },
    _delItem: function(id) {
      return util.del(id, this._getObj());
    },
    _addArrayItem: function(o, multi) {
      var obj;
      if (multi == null) {
        multi = true;
      }
      obj = this._getObj(null, []);
      if (multi) {
        obj.push(o);
      } else {
        obj = [o];
      }
      return this._setObj(obj, this._func);
    },
    _delArrayItem: function(id, fuzzy) {
      if (fuzzy == null) {
        fuzzy = true;
      }
      if (id.indexOf('?') > -1) {
        id = id.split('?')[0];
      }
      this._getObj().remove(id, fuzzy);
      if (id.indexOf('.') > -1) {
        return util.del(id.split('.')[0], this._getProp());
      }
    },
    _toStr: function() {
      return util.ro(this._getObj());
    }
  };

}).call(this);

//# sourceMappingURL=propObj.js.map
